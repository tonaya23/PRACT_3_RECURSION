<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>Serie de Fibonacci</title>
</head>

<body>
    <div class="container my-5">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-body">
                        <h1 class="card-title">Serie de Fibonacci</h1>
                        <p class="card-text">
                            La serie de Fibonacci es una secuencia matemática en la que cada número es la suma de los
                            dos números anteriores. Te permite ingresar la longitud de la serie y generarla.
                        </p>
                        <form>
                            <div class="mb-3">
                                <label for="longitud" class="form-label">Longitud deseada de la serie (mayor o igual a
                                    1)</label>
                                <input type="text" id="longitud" class="form-control" placeholder="Ingrese la longitud"
                                    oninput="validarLongitud(this)">
                            </div>
                            <button type="button" class="btn btn-primary" onclick="generarFibonacci()">Generar Serie
                            </button>
                            <p class="mt-3" id="resultado"></p>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Función para generar la serie de Fibonacci
        function generarFibonacci() {
            // Obtener la longitud ingresada desde el campo de entrada
            const longitud = parseInt(document.getElementById("longitud").value);
            // Obtener el elemento donde se mostrará el resultado
            const resultado = document.getElementById("resultado");

            // Validar si la longitud ingresada no es válida (debe ser mayor o igual a 1)
            if (isNaN(longitud) || longitud < 1) {
                resultado.textContent = "Por favor, ingrese una longitud válida (mayor o igual a 1).";
                return;
            }

            // Calcular y mostrar la serie de Fibonacci de la longitud deseada
            resultado.textContent = `La serie de Fibonacci de longitud ${longitud} es: ${fibonacciSerie(longitud).join(", ")}.`;
        }

        // Función para calcular la serie de Fibonacci
        function fibonacciSerie(n) {
            // Inicializamos una serie con los dos primeros números (0 y 1)
            const serie = [0, 1];

            // Calculamos los números restantes de la serie
            for (let i = 2; i < n; i++) {
                // Cada número es la suma de los dos números anteriores en la serie
                serie.push(serie[i - 1] + serie[i - 2]);
            }
            return serie;
        }

        // Función recursiva para calcular un número de la serie de Fibonacci
        function fibonacci(n) {
            // Casos base: el primer y segundo números son 0 y 1, respectivamente
            if (n <= 0) {
                return 0;
            } else if (n === 1) {
                return 1;
            } else {
                // Caso recursivo: calcular el número sumando los dos números anteriores
                return fibonacci(n - 1) + fibonacci(n - 2);
            }
        }

        // Función para validar que se ingrese una longitud válida (mayor o igual a 1)
        function validarLongitud(input) {
            const longitud = input.value;
            // Utilizamos una expresión regular y una condición para validar la longitud
            if (!/^\d+$/.test(longitud) || parseInt(longitud) < 1) {
                // Mostrar una alerta si la longitud no es válida y borrar el campo de entrada
                alert("Ingrese una longitud válida (mayor o igual a 1).");
                input.value = "";
            }
        }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.5.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>